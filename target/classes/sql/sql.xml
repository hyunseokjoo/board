<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="test">
  <!-- 로그인 -->
  <select id="loginCheck" parameterType="com.java.board.UserInfo" resultType="com.java.board.UserInfo">
   	select id, password from USER where id = #{id} and password = #{password} 
  </select>
  
  <!-- 회원가입 -->
  <insert id="userInsert" parameterType="com.java.board.UserInfo">
  	insert into USER (id, password, b_year, b_month, b_day, email, gender, phone) 
  	values (#{id},#{password},#{b_year}, #{b_month}, #{b_day}, #{email}, #{gender}, #{phone})
  </insert>
  <insert id="signIn" parameterType="com.java.board.UserInfo">
  	 insert into USER(id,password,b_year,b_month,b_day,email,gender,phone) values( #{id},#{password},#{b_year},#{b_month},#{b_day},#{email},#{gender},#{phone})
  </insert>
  
  

  <!-- 회원가입 체크 -->
  <select id="sign_check" parameterType="com.java.board.UserInfo" resultType="boolean">
  	select id from USER where id = #{id}
  </select>
  
  
  <!-- 게시판 R -->
  <select id="select" resultType="com.java.board.BoardBean" parameterType="com.java.board.BoardBean" >
  	select no, title ,content, name from test where delYn = 'N'
  	  <if test="no != null">
	    AND no = #{no}
	  </if>
  </select>
  <!-- 게시판 CUD -->
  <insert id="insert" parameterType="com.java.board.BoardBean">
  	insert into test (title, content, name) values (#{title},#{content},#{name})
  </insert>
  
  <update id="update" parameterType="com.java.board.BoardBean">
  	update test set title = #{title}, content = #{content} where no = #{no}
  </update>
  
  <update id="delete" parameterType="com.java.board.BoardBean">
  	update test set delYn = 'Y' where no = #{no}
  </update>
  
  
  

  <select id="search" parameterType="com.java.board.ContentBean" resultType="com.java.board.ContentBean">
  	select title, image, content from TEST where 1=1
  	<if test="title != null ">
  		and title like '%${title}%'
  	</if>
  </select>


</mapper>